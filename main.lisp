(require 'asdf)
(push "~/work/tcc/lisp/" asdf:*central-registry*)
(asdf:load-system 'dc)

(total-dur 600)
(bar 4)
(set-dur-extr-fun #'(lambda (x) (/ (/ 1 x) 10)))
(set-pitch-extr-fun #'(lambda (x) (/ (/ 1 (+ (pc x) 1)) 100)))
(set-chord-extr-fun #'(lambda (x) (/ x 100)))
(set-rest-extr-fun #'(lambda (x) (/ x 100)))
(dur-elems '(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20
             21 22 23 24 25 26 27 28))
(chord-n-elems '(1 2 3 4 5))
(rest-elems '(0 1 2 3))
;(make-lines '((100 (0 . 1) 2)
;              (200 (7 . 1) 3)
;              (350 (4 . 2) 4)
;              (400 (10 . 2) 5)
;              (380 (2 . 3) 6)
;              (420 (6 . 3) 7)))
(make-lines '((0 (0 . 1) 2)
              (110 (1 . 2) 3)
              (220 (2 . 1) 4)
              (240 (3 . 2) 5)
              (300 (4 . 1) 6)
              (340 (5 . 3) 7)
              (200 (6 . 1) 7)
              (500  (7 . 3) 6)
              (60 (8 . 1) 5)
              (50 (9 . 2) 4)
              (370 (10 . 1) 3)
              (10 (11 . 2) 2)))
(output-lines "~/work/tcc/tests/test.ly")
