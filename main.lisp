(require 'asdf)
(push "~/work/tcc/lisp/" asdf:*central-registry*)
(asdf:load-system 'dc)

(total-dur 1000)
(bar 4)
(set-dur-extr-fun #'(lambda (x) (/ x 1000)))
(set-pitch-extr-fun #'(lambda (x) (/ (pc x) 1000000)))
(dur-elems '(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25))
;(make-lines '((20 (0 . 2) 2)
;              (80 (7 . 2) 3)
;              (120 (4 . 2) 4)
;              (70 (10 . 2) 5)
;              (90 (2 . 2) 6)
;              (160 (6 . 2) 7)))
(make-lines '((20 (0 . 2) 2)
              (80 (1 . 2) 3)
              (120 (2 . 2) 4)
              (70 (3 . 2) 5)
              (90 (4 . 2) 6)
              (160 (5 . 2) 7)
              (50 (6 . 2) 7)
              (10 (7 . 2) 6)
              (140 (8 . 2) 5)
              (190 (9 . 2) 4)
              (100 (10 . 2) 3)
              (133 (11 . 2) 2)))
(output-lines "~/work/tcc/tests/test.ly")
